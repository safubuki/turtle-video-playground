# UX設計原則 — 世界最高峰のユーザー体験を実現するために

## 1. 認知負荷の最小化（Don't Make Me Think）

ユーザーが「考える」必要があるUIは失敗している。

### 原則

| 原則 | 説明 | 実装指針 |
|------|------|---------|
| **一目で分かる** | UIの意味と操作方法が視覚的に自明 | ラベル・アイコン・色で意味を伝える |
| **現在地が分かる** | ユーザーが今どこにいるか迷わない | アクティブ状態・ブレッドクラム・進捗表示 |
| **次にすべきことが分かる** | 次のアクションが直感的に導かれる | プライマリアクションの視覚的強調 |
| **結果が予測できる** | ボタンを押す前に何が起こるか分かる | 明確なラベル・プレビュー・確認ダイアログ |

### アンチパターン

- 🚫 アイコンのみでラベルなし（意味が伝わらない）
- 🚫 同じ色のボタンが並ぶ（優先度が分からない）
- 🚫 操作後にフィードバックがない（成功したか分からない）
- 🚫 隠れたナビゲーション（発見できない機能）

---

## 2. フィードバックの即時性（Instant Feedback）

すべての操作には0.1秒以内のフィードバックを返す。

### レスポンスタイム基準

| 時間 | ユーザーの感覚 | 対応 |
|------|--------------|------|
| 0〜100ms | 即座 | ボタン押下・ホバー・フォーカス |
| 100〜300ms | スムーズ | トランジション・パネル展開 |
| 300〜1000ms | 待てる | ページ遷移・データ読み込み（スケルトン表示） |
| 1秒以上 | 遅い | プログレスバー・キャンセル可能にする |

### 実装パターン

```
操作 → 即時の視覚フィードバック → 処理 → 結果表示
       （色変化・アニメーション）      （ローディング）  （成功/失敗の通知）
```

- **ボタン**: `active` 状態でスケール縮小 + 色変化 → 処理中はローディングスピナー
- **トグル**: 即座にUIを切り替え、バックグラウンドで保存（Optimistic UI）
- **ドラッグ**: リアルタイムプレビュー + ドロップ先のハイライト
- **入力**: リアルタイムバリデーション + 文字カウンター

---

## 3. 一貫性の法則（Consistency is King）

### デザイントークンの統一

| トークン | 統一すべき要素 |
|---------|--------------|
| カラー | プライマリ・セカンダリ・アクセント・エラー・警告・成功 |
| スペーシング | 4px基準（4, 8, 12, 16, 24, 32, 48, 64） |
| フォント | サイズスケール（12, 14, 16, 18, 20, 24, 30, 36） |
| 角丸 | none(0), sm(4), md(8), lg(12), xl(16), full(9999) |
| シャドウ | sm, md, lg, xl の4段階 |
| トランジション | duration: 150ms(fast), 200ms(normal), 300ms(slow) |

### コンポーネントの一貫性

- 同じ機能には同じコンポーネントを使う
- ボタンのサイズ・色・形は役割ごとに固定する
- 間隔・余白のルールをプロジェクト全体で統一する

---

## 4. ヒエラルキーと視覚的優先度（Visual Hierarchy）

### 情報の優先度を視覚で伝える

| レベル | 要素 | 手法 |
|--------|------|------|
| **最高** | プライマリアクション | 大きなボタン・鮮やかな色・十分な余白 |
| **高** | 重要な情報 | 太字・大きなフォントサイズ・コントラスト |
| **中** | 補足情報 | 通常のフォント・やや控えめな色 |
| **低** | メタ情報 | 小さなフォント・薄い色・アイコン |

### 余白のリズム

- **セクション間**: 最大の余白（32-48px）
- **グループ間**: 中程度の余白（16-24px）
- **要素間**: 最小の余白（8-12px）
- **要素内**: コンパクトな余白（4-8px）

> 余白は「何もない空間」ではなく「意味を持つデザイン要素」である。

---

## 5. エラー防止とリカバリー（Error Prevention & Recovery）

### 防止が最優先

| 段階 | 手法 |
|------|------|
| **1. そもそもエラーを起こせない** | 無効な選択肢を表示しない・入力制約 |
| **2. エラーの手前で警告する** | リアルタイムバリデーション・確認ダイアログ |
| **3. エラーを分かりやすく伝える** | 何が間違っていて、どう修正すればよいか |
| **4. 簡単にやり直せる** | Undo/Redo・自動保存・ドラフト保存 |

### エラーメッセージの原則

- ❌ 「エラーが発生しました」（何の情報もない）
- ✅ 「ファイルサイズが10MBを超えています。10MB以下のファイルを選択してください。」

---

## 6. アクセシビリティ（A11y）— 最低基準ではなく最高基準

### 必須要件

| 要件 | 基準 |
|------|------|
| コントラスト比 | テキスト: 4.5:1以上、大きなテキスト: 3:1以上 |
| キーボード操作 | すべての機能がキーボードのみで操作可能 |
| フォーカス表示 | フォーカスリングが明確に見える |
| スクリーンリーダー | 適切なARIAラベル・ロール・ライブリージョン |
| タッチターゲット | 最小44x44px（モバイル） |
| 動作の軽減 | `prefers-reduced-motion` を尊重する |

### 実装チェック

```tsx
// ✅ Good: アクセシブルなボタン
<button
  aria-label="設定を開く"
  className="focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
  onClick={handleOpen}
>
  <SettingsIcon aria-hidden="true" />
</button>

// ❌ Bad: アクセシビリティ無視
<div onClick={handleOpen}>
  <SettingsIcon />
</div>
```

---

## 7. モバイルファースト & レスポンシブ

### タッチ操作の最適化

| 要素 | 最小サイズ | 推奨サイズ |
|------|----------|----------|
| タップターゲット | 44x44px | 48x48px |
| ボタン間の間隔 | 8px | 12px |
| スワイプ領域 | 全幅 | 全幅 |

### ブレイクポイント戦略

```css
/* モバイルファースト */
/* デフォルト: モバイル (< 640px) */
/* sm: タブレット縦 (≥ 640px) */
/* md: タブレット横 (≥ 768px) */
/* lg: デスクトップ (≥ 1024px) */
/* xl: ワイドスクリーン (≥ 1280px) */
```

---

## 8. 感情的デザイン（Emotional Design）

ユーザーの感情に訴えかけるデザインが「Wow Factor」を生む。

### 3つのレイヤー

| レイヤー | 役割 | 例 |
|---------|------|-----|
| **本能的** | 第一印象で「美しい」と感じさせる | 色彩・形・写真・余白 |
| **行動的** | 使って「気持ちいい」と感じさせる | スムーズなアニメーション・即時フィードバック |
| **内省的** | 使い終わって「また使いたい」と思わせる | 達成感の演出・パーソナライズ |

### Wow Factor を生む要素

- ✨ 心地よいマイクロインタラクション（ボタン押下時の弾むアニメーション）
- ✨ 意味のあるトランジション（要素の移動が文脈を示す）
- ✨ サプライズ&デライト（予想を超える小さな喜び）
- ✨ 完璧なタイミング（アニメーションのイージングが自然）
- ✨ 細部へのこだわり（1pxの差が全体の品質を決める）

---

## 9. パフォーマンスはUXの一部

### 基準値

| 指標 | 目標値 |
|------|--------|
| First Contentful Paint (FCP) | < 1.8秒 |
| Largest Contentful Paint (LCP) | < 2.5秒 |
| Cumulative Layout Shift (CLS) | < 0.1 |
| First Input Delay (FID) | < 100ms |
| アニメーション | 60fps (16.67ms/frame) |

### パフォーマンスを損なわないアニメーション

- ✅ `transform`, `opacity` のみをアニメートする
- ✅ `will-change` を限定的に使用する
- ❌ `width`, `height`, `top`, `left` のアニメーションは避ける
- ❌ レイアウトスラッシング（読み取り→書き込みの繰り返し）を避ける

---

## 10. 情報密度の黄金比（Goldilocks Zone）

多すぎず、少なすぎず、ちょうどよい情報量。

### 原則

- **1画面1目的**: 画面ごとに1つの主要タスクに集中させる
- **段階的開示**: 詳細情報は必要になるまで隠す（アコーディオン・ツールチップ）
- **グルーピング**: 関連する情報をまとめ、境界を明確にする
- **不要物の排除**: 目的に直接貢献しない要素は削除する

> 「完璧とは、これ以上加えるものがない状態ではなく、これ以上取り除くものがない状態のことである」— サン=テグジュペリ
