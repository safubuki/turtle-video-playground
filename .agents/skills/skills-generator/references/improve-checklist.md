# 既存スキル改善チェックリスト

既存スキルの品質を評価し、改善するためのチェックリストです。

---

## 1. 発火精度の評価と改善

### 診断

- [ ] テスト発火: 想定するキーワードで実際にスキルが発火するか
- [ ] 誤発火: 関係ないキーワードで発火していないか
- [ ] 競合: 他のスキルと発火条件が重複していないか

### description の改善パターン

| 問題 | 改善方法 | 例 |
|------|---------|-----|
| 発火しない | 具体的なキーワードを追加 | 「テスト書いて」「テスト追加」「カバレッジ」を列挙 |
| 曖昧な発火 | 目的を限定する記述に変更 | 「〜する」→「〜のための〇〇を作成する」 |
| 日本語で発火しない | 日本語のフレーズを追加 | 英語キーワードの後に日本語を併記 |
| 競合する | 除外条件を description に示唆する | 「〇〇は対象外」を明記 |

### description の改善テンプレート

```
{スキルが何をするか1文}。{具体的な機能を列挙}。「{キーワード1}」「{キーワード2}」「{キーワード3}」「{英語キーワード}」などで発火。
```

**原則**: 以下の3要素を必ず含める
1. **What** — 何をするスキルか
2. **When** — どんな場面で使うか
3. **Trigger** — 「〇〇」形式で発火ワードを列挙

---

## 2. 構造品質の評価と改善

### SKILL.md のスリム化

| チェック | 基準 | 改善アクション |
|---------|------|---------------|
| 本文の行数 | 100行以下が理想 | テンプレートを `assets/` に分離 |
| コードブロック | 10行以下 | 長いコードは `examples/` に分離 |
| 表の数 | 参照テーブルは外部化 | `references/` に分離 |
| 外部リンク | 全リンクがアクセス可能 | リンク切れを修正 |

### フォルダ不足のチェック

- [ ] テンプレートが SKILL.md に直接埋め込まれている → `assets/` に分離すべき
- [ ] 長いリファレンス表がある → `references/` に分離すべき
- [ ] サンプルコードが本文に埋め込まれている → `examples/` に分離すべき
- [ ] 自動化できる手順が手動のまま → `scripts/` の追加を検討すべき

---

## 3. 網羅性の評価と改善

### When to Use セクション

- [ ] 発火条件が3つ以上列挙されているか
- [ ] ユーザーの視点で書かれているか（「〜したいとき」形式）
- [ ] ネガティブケース（使わない場面）が暗示されているか

### 手順（Step）の完全性

- [ ] Step が具体的で、AI が迷わず実行できるか
- [ ] 各 Step に成果物や期待される出力が明記されているか
- [ ] 順序が論理的か（情報収集 → 分析 → 作成 → 確認）

### テンプレートの品質

- [ ] 出力フォーマットがテンプレートとして用意されているか
- [ ] テンプレートの `{プレースホルダ}` が明確か
- [ ] 実際に使うと過不足がないか

---

## 4. 実用性の評価と改善

### ユーザー体験の改善

| チェック | 基準 |
|---------|------|
| 初回実行で使えるか | 事前準備なしで動作する |
| エラー時のガイドがあるか | よくある問題と対処法が記載されている |
| 出力が即座に使えるか | コピー&ペーストで使える形式 |

### プロジェクトへの適合度

- [ ] プロジェクトの技術スタックに合った指示か
- [ ] ファイルパスやコマンドが実在するか
- [ ] 開発ワークフローに自然に組み込めるか

---

## 5. スクリプト活用の評価

### 自動化の機会

以下に該当する処理が手動のまま残っていないかチェックする：

- [ ] ファイルの自動生成（テンプレートからのスキャフォールド）
- [ ] バリデーション（lint、型チェック、規約チェック）
- [ ] データの変換・集約
- [ ] 定型的な複数コマンドの一括実行
- [ ] プロジェクト情報の収集

→ 該当する場合は `scripts/` フォルダの追加を提案する

---

## 6. 実装パターン・注意点の充実度

### プロジェクトオーバービュースキルの場合

プロジェクト概要系のスキル（`*-overview` 等）には、技術スタックやディレクトリ構成に加えて、**実装パターン・注意点のリファレンス** が含まれているかチェックする：

- [ ] 誤操作防止パターン（モバイルスワイプ保護、デバウンス、スロットリング等）
- [ ] ブラウザ API のワークアラウンド（Autoplay Policy、Canvas制約、Safari対応等）
- [ ] ディスプレイ復帰対策（タブ切替後のブラックアウト、`visibilitychange`等）
- [ ] メモリ管理パターン（ObjectURL解放、クリーンアップ、AbortController等）
- [ ] エラーハンドリング戦略（多層防御、重複抑制、自動リカバリ等）
- [ ] パフォーマンス最適化（memo、カスタム比較関数、IntersectionObserver等）
- [ ] データ永続化のパターン（シリアライズ、変更検知、自動保存等）
- [ ] 状態管理のルール（ストア間協調、Ref+State並行管理等）

→ 不足している場合は `references/` に実装パターン・注意点リファレンスの追加を提案する。調査方法・作成手順は `skills-generator/references/implementation-patterns-guide.md` を参照

---

## 改善優先度の判断基準

| 優先度 | 条件 |
|--------|------|
| 🔴 高 | 発火しない・誤発火する（description の問題） |
| 🟠 中 | 出力が期待と違う（手順・テンプレートの問題） |
| 🟡 低 | 構造の改善（外部ファイル分離、スクリプト追加） |
