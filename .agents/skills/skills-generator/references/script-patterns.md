# ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆãƒ‘ã‚¿ãƒ¼ãƒ³é›†

Agent Skills ã«ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’åŒæ¢±ã™ã‚‹éš›ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã¨å®‰å…¨æ€§ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã™ã€‚

---

## ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å½¹å‰²

ã‚¹ã‚­ãƒ«ãŒ `scripts/` ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æŒã¤ã“ã¨ã§ã€AI ã¸ã®æŒ‡ç¤ºã ã‘ã§ã¯é›£ã—ã„ä»¥ä¸‹ã®å‡¦ç†ã‚’è‡ªå‹•åŒ–ã§ãã¾ã™ï¼š

- ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®æ“ä½œï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆï¼‰
- å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œï¼ˆlintã€ãƒ†ã‚¹ãƒˆã€ãƒ“ãƒ«ãƒ‰ï¼‰
- ãƒ‡ãƒ¼ã‚¿ã®åé›†ãƒ»å¤‰æ›ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã®é›†ç´„ï¼‰
- å®šå‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è‡ªå‹•å®Ÿè¡Œ

---

## ãƒ‘ã‚¿ãƒ¼ãƒ³1: ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆï¼‰

### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é››å½¢ç”Ÿæˆ
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®åˆæœŸåŒ–

### ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆNode.jsï¼‰

```javascript
#!/usr/bin/env node
// scripts/generate.mjs
import { writeFileSync, existsSync, mkdirSync } from 'fs';
import { resolve, dirname } from 'path';

const args = process.argv.slice(2);
const dryRun = args.includes('--dry-run');
const targetName = args.find(a => !a.startsWith('--'));

if (!targetName) {
  console.error('Usage: node scripts/generate.mjs <name> [--dry-run]');
  process.exit(1);
}

const outputPath = resolve(`src/${targetName}`);

if (existsSync(outputPath)) {
  console.error(`Already exists: ${outputPath}`);
  process.exit(1);
}

const content = `// Generated by skill: ${targetName}\n`;

if (dryRun) {
  console.log(`[DRY RUN] Would create: ${outputPath}`);
  console.log(content);
} else {
  mkdirSync(dirname(outputPath), { recursive: true });
  writeFileSync(outputPath, content);
  console.log(`Created: ${outputPath}`);
}
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆPythonï¼‰

```python
#!/usr/bin/env python3
"""scripts/generate.py - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ"""
import argparse
import sys
from pathlib import Path

def main():
    parser = argparse.ArgumentParser(description='Generate files from template')
    parser.add_argument('name', help='Target name')
    parser.add_argument('--dry-run', action='store_true', help='Show what would be done')
    args = parser.parse_args()

    output_path = Path(f'src/{args.name}')
    
    if output_path.exists():
        print(f'Error: Already exists: {output_path}', file=sys.stderr)
        sys.exit(1)

    content = f'# Generated: {args.name}\n'

    if args.dry_run:
        print(f'[DRY RUN] Would create: {output_path}')
        print(content)
    else:
        output_path.parent.mkdir(parents=True, exist_ok=True)
        output_path.write_text(content)
        print(f'Created: {output_path}')

if __name__ == '__main__':
    main()
```

---

## ãƒ‘ã‚¿ãƒ¼ãƒ³2: ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼ï¼ˆãƒã‚§ãƒƒã‚¯ãƒ»æ¤œè¨¼ï¼‰

### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
- ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã®ãƒã‚§ãƒƒã‚¯
- ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã®æ¤œè¨¼
- ä¾å­˜é–¢ä¿‚ã®ç›£æŸ»

```javascript
#!/usr/bin/env node
// scripts/validate.mjs
import { readdirSync, readFileSync } from 'fs';

const issues = [];

// Example: Check all files in src/ for a pattern
function checkFiles(dir) {
  const files = readdirSync(dir, { withFileTypes: true });
  for (const file of files) {
    const path = `${dir}/${file.name}`;
    if (file.isDirectory()) {
      checkFiles(path);
    } else if (file.name.endsWith('.ts') || file.name.endsWith('.tsx')) {
      const content = readFileSync(path, 'utf-8');
      // Add validation logic here
      if (content.includes('console.log')) {
        issues.push({ file: path, message: 'console.log found' });
      }
    }
  }
}

checkFiles('src');

if (issues.length > 0) {
  console.error(`Found ${issues.length} issue(s):`);
  issues.forEach(i => console.error(`  ${i.file}: ${i.message}`));
  process.exit(1);
} else {
  console.log('All checks passed.');
}
```

---

## ãƒ‘ã‚¿ãƒ¼ãƒ³3: ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼ï¼ˆæƒ…å ±åé›†ï¼‰

### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®çµ±è¨ˆæƒ…å ±ã‚’åé›†
- ä¾å­˜é–¢ä¿‚ã®ä¸€è¦§ã‚’å‡ºåŠ›
- TODOã‚³ãƒ¡ãƒ³ãƒˆã®é›†ç´„

```bash
#!/bin/bash
# scripts/collect-info.sh
echo "=== Project Info ==="
echo "Node version: $(node --version)"
echo "npm version: $(npm --version)"
echo ""
echo "=== Dependencies ==="
cat package.json | grep -A 100 '"dependencies"' | head -20
echo ""
echo "=== File counts ==="
echo "TypeScript: $(find src -name '*.ts' -o -name '*.tsx' | wc -l) files"
echo "Tests: $(find src -name '*.test.*' | wc -l) files"
echo ""
echo "=== TODOs ==="
grep -rn "TODO\|FIXME\|HACK" src/ --include='*.ts' --include='*.tsx' || echo "None found"
```

```powershell
# scripts/collect-info.ps1
Write-Host "=== Project Info ==="
Write-Host "Node version: $(node --version)"
Write-Host "npm version: $(npm --version)"
Write-Host ""
Write-Host "=== Dependencies ==="
Get-Content package.json | Select-String '"dependencies"' -Context 0,20
Write-Host ""
Write-Host "=== File counts ==="
$tsFiles = Get-ChildItem -Path src -Recurse -Include *.ts,*.tsx | Measure-Object
$testFiles = Get-ChildItem -Path src -Recurse -Include *.test.* | Measure-Object
Write-Host "TypeScript: $($tsFiles.Count) files"
Write-Host "Tests: $($testFiles.Count) files"
Write-Host ""
Write-Host "=== TODOs ==="
Select-String -Path src\**\*.ts,src\**\*.tsx -Pattern "TODO|FIXME|HACK" -CaseSensitive
```

---

## ãƒ‘ã‚¿ãƒ¼ãƒ³4: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆè¤‡æ•°ã‚³ãƒãƒ³ãƒ‰ã®ä¸€æ‹¬å®Ÿè¡Œï¼‰

### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
- ãƒªãƒªãƒ¼ã‚¹å‰ãƒã‚§ãƒƒã‚¯ã®ä¸€æ‹¬å®Ÿè¡Œ
- é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- ãƒ†ã‚¹ãƒˆï¼‹ãƒ“ãƒ«ãƒ‰ï¼‹ãƒ‡ãƒ—ãƒ­ã‚¤ã®è‡ªå‹•åŒ–

```bash
#!/bin/bash
# scripts/pre-release.sh
set -e

echo "ğŸ” Running lint..."
npm run lint

echo "ğŸ§ª Running tests..."
npm run test:run

echo "ğŸ—ï¸ Building..."
npm run build

echo "âœ… All pre-release checks passed!"
```

---

## å®‰å…¨æ€§ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### å¿…é ˆãƒ«ãƒ¼ãƒ«

| ãƒ«ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `--dry-run` ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãƒ»å‰Šé™¤ãƒ»å¤‰æ›´ã‚’ä¼´ã†ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ `--dry-run` ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã™ã‚‹ |
| ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | ç ´å£Šçš„æ“ä½œã®å‰ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªã‚’æ±‚ã‚ã‚‹ |
| ã‚¹ã‚³ãƒ¼ãƒ—åˆ¶é™ | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå¤–ã¸ã®æ“ä½œã‚’ç¦æ­¢ã™ã‚‹ |
| ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | å…¨ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã—ã€æ˜ç¢ºãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›ã™ã‚‹ |
| å†ªç­‰æ€§ | ä½•åº¦å®Ÿè¡Œã—ã¦ã‚‚åŒã˜çµæœã«ãªã‚‹ã‚ˆã†ã«ã™ã‚‹ |

### ç¦æ­¢äº‹é …

- âŒ `rm -rf /` ã‚„åºƒç¯„ãªãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
- âŒ `sudo` ã®ä½¿ç”¨
- âŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çµŒç”±ã®å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿é€ä¿¡
- âŒ ç’°å¢ƒå¤‰æ•°ã‚„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®å‡ºåŠ›
- âŒ æœªçŸ¥ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### æ¨å¥¨äº‹é …

- âœ… ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å…ˆé ­ã«ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨˜è¿°
- âœ… `--verbose` ãƒ•ãƒ©ã‚°ã§è©³ç´°å‡ºåŠ›ã‚’æä¾›
- âœ… å®Ÿè¡Œçµæœã‚’ã‚µãƒãƒªãƒ¼ã¨ã—ã¦å‡ºåŠ›
- âœ… ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œï¼ˆBash + PowerShellã€ã¾ãŸã¯ Node.jsï¼‰

---

## è¨€èªé¸æŠã‚¬ã‚¤ãƒ‰

| æ¡ä»¶ | æ¨å¥¨è¨€èª | ç†ç”± |
|------|---------|------|
| Node.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | `.mjs` (Node.js) | ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒä¿è¨¼ã•ã‚Œã¦ã„ã‚‹ |
| Python ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | `.py` (Python) | ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒä¿è¨¼ã•ã‚Œã¦ã„ã‚‹ |
| ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | `.mjs` (Node.js) | å¤šãã®ç’°å¢ƒã§åˆ©ç”¨å¯èƒ½ |
| ã‚·ãƒ³ãƒ—ãƒ«ãªã‚³ãƒãƒ³ãƒ‰é€£çµ | `.sh` + `.ps1` | OS ãƒã‚¤ãƒ†ã‚£ãƒ–ã§ç¢ºå®Ÿ |
| è¿·ã£ãŸã¨ã | `.mjs` (Node.js) | æœ€ã‚‚æ±ç”¨çš„ |

---

## SKILL.md ã‹ã‚‰ã®å‚ç…§æ–¹æ³•

```markdown
## ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½¿ã„æ–¹

### ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ

\```bash
node scripts/generate.mjs <name> [--dry-run]
\```

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ |
|-----------|------|-----------|
| `<name>` | ç”Ÿæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«å | å¿…é ˆ |
| `--dry-run` | å®Ÿè¡Œã›ãšã«ç¢ºèªã®ã¿ | æœ‰åŠ¹ |
```
